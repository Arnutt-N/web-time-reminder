<!DOCTYPE html>
<html lang="th">
<head>
    <title>Time Reminder System</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'bounce-gentle': 'bounce 2s infinite',
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        }
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                        'morning-gradient': 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                        'evening-gradient': 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
                    }
                }
            }
        }
    </script>
    <style>
        .glass-effect {
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            background-color: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(209, 213, 219, 0.3);
        }
        .dark-glass {
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            background-color: rgba(17, 24, 39, 0.8);
            border: 1px solid rgba(75, 85, 99, 0.3);
        }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 to-pink-100">
    <!-- Background Pattern -->
    <div class="fixed inset-0 opacity-30">
        <div class="absolute inset-0 bg-grid-slate-100 [mask-image:linear-gradient(0deg,white,rgba(255,255,255,0.6))]"></div>
    </div>
    
    <!-- Main Container -->
    <div class="relative min-h-screen flex items-center justify-center p-4">
        <div class="w-full max-w-4xl">
            <!-- Header Card -->
            <div class="glass-effect rounded-3xl p-8 mb-6 text-center animate-fade-in">
                <div class="flex items-center justify-center mb-4">
                    <div class="p-4 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full mr-4 animate-pulse-slow">
                        <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h1 class="text-4xl font-bold gradient-text">ระบบแจ้งเตือนลงเวลา</h1>
                </div>
                
                <!-- Digital Clock -->
                <div class="glass-effect rounded-2xl p-6 mb-6 bg-gradient-to-r from-indigo-500/10 to-purple-500/10">
                    <div id="clock" class="text-6xl font-mono font-bold text-gray-800 mb-2 tracking-wider"></div>
                    <div class="text-lg text-gray-600" id="current-date"></div>
                </div>
                
                <!-- Status Card -->
                <div id="status-card" class="rounded-2xl p-6 transition-all duration-500 animate-slide-up">
                    <div id="status" class="text-xl font-semibold"></div>
                </div>
            </div>
            
            <!-- Time Schedule Grid -->
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <!-- Morning Schedule -->
                <div class="glass-effect rounded-3xl p-6 animate-fade-in" style="animation-delay: 0.1s">
                    <div class="flex items-center mb-6">
                        <div class="p-3 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full mr-4">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800">ตอนเช้า</h3>
                    </div>
                    <div class="space-y-3">
                        <div class="time-item flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:scale-105" id="time-0725">
                            <span class="text-xl font-semibold text-gray-700">07:25</span>
                            <div class="w-3 h-3 rounded-full bg-gray-300 time-indicator"></div>
                        </div>
                        <div class="time-item flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:scale-105" id="time-0825">
                            <span class="text-xl font-semibold text-gray-700">08:25</span>
                            <div class="w-3 h-3 rounded-full bg-gray-300 time-indicator"></div>
                        </div>
                        <div class="time-item flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:scale-105" id="time-0925">
                            <span class="text-xl font-semibold text-gray-700">09:25</span>
                            <div class="w-3 h-3 rounded-full bg-gray-300 time-indicator"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Evening Schedule -->
                <div class="glass-effect rounded-3xl p-6 animate-fade-in" style="animation-delay: 0.2s">
                    <div class="flex items-center mb-6">
                        <div class="p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mr-4">
                            <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800">ตอนบ่าย</h3>
                    </div>
                    <div class="space-y-3">
                        <div class="time-item flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:scale-105" id="time-1530">
                            <span class="text-xl font-semibold text-gray-700">15:30</span>
                            <div class="w-3 h-3 rounded-full bg-gray-300 time-indicator"></div>
                        </div>
                        <div class="time-item flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:scale-105" id="time-1630">
                            <span class="text-xl font-semibold text-gray-700">16:30</span>
                            <div class="w-3 h-3 rounded-full bg-gray-300 time-indicator"></div>
                        </div>
                        <div class="time-item flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:scale-105" id="time-1730">
                            <span class="text-xl font-semibold text-gray-700">17:30</span>
                            <div class="w-3 h-3 rounded-full bg-gray-300 time-indicator"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="glass-effect rounded-3xl p-6 mb-6 animate-fade-in" style="animation-delay: 0.3s">
                <div class="flex flex-wrap gap-4 justify-center">
                    <button onclick="testMorning()" class="group relative px-8 py-4 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-2xl text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95">
                        <div class="flex items-center">
                            <svg class="w-6 h-6 mr-2 group-hover:animate-bounce-gentle" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path>
                            </svg>
                            ทดสอบข้อความเช้า
                        </div>
                    </button>
                    
                    <button onclick="testEvening()" class="group relative px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 active:scale-95">
                        <div class="flex items-center">
                            <svg class="w-6 h-6 mr-2 group-hover:animate-bounce-gentle" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                            </svg>
                            ทดสอบข้อความบ่าย
                        </div>
                    </button>
                </div>
            </div>
            
            <!-- Activity Log -->
            <div class="glass-effect rounded-3xl p-6 animate-fade-in" style="animation-delay: 0.4s">
                <div class="flex items-center mb-4">
                    <div class="p-2 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full mr-3">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold text-gray-800">บันทึกการทำงาน</h3>
                </div>
                <div class="dark-glass rounded-2xl p-4 max-h-48 overflow-y-auto" id="log">
                    <div class="text-green-400 font-mono text-sm">🚀 ระบบเริ่มต้นทำงาน...</div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification Toast (Hidden by default) -->
    <div id="toast" class="fixed top-4 right-4 transform translate-x-full transition-transform duration-300 z-50">
        <div class="glass-effect rounded-2xl p-4 shadow-2xl max-w-md">
            <div class="flex items-center">
                <div class="p-2 bg-gradient-to-r from-green-400 to-blue-500 rounded-full mr-3">
                    <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                </div>
                <div>
                    <div class="font-semibold text-gray-800" id="toast-title">แจ้งเตือน</div>
                    <div class="text-gray-600 text-sm" id="toast-message">ข้อความแจ้งเตือน</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // เวลาที่ต้องการแจ้งเตือน
        const reminderTimes = [
            { time: "07:25", type: "morning", id: "time-0725" },
            { time: "08:25", type: "morning", id: "time-0825" },
            { time: "09:25", type: "morning", id: "time-0925" },
            { time: "15:30", type: "evening", id: "time-1530" },
            { time: "16:30", type: "evening", id: "time-1630" },
            { time: "17:30", type: "evening", id: "time-1730" }
        ];
        
        // เก็บเวลาที่แจ้งเตือนไปแล้วในวันนี้
        let alertedToday = new Set();
        let currentDate = new Date().toDateString();
        
        function getCurrentTime() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            return { time: `${hours}:${minutes}`, display: `${hours}:${minutes}:${seconds}` };
        }
        
        function getCurrentDate() {
            return new Date().toLocaleDateString('th-TH', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }
        
        function showToast(title, message, duration = 3000) {
            const toast = document.getElementById('toast');
            const toastTitle = document.getElementById('toast-title');
            const toastMessage = document.getElementById('toast-message');
            
            toastTitle.textContent = title;
            toastMessage.textContent = message;
            
            // Show toast
            toast.classList.remove('translate-x-full');
            toast.classList.add('translate-x-0');
            
            // Hide after duration
            setTimeout(() => {
                toast.classList.remove('translate-x-0');
                toast.classList.add('translate-x-full');
            }, duration);
        }
        
        function addLog(message, type = 'info') {
            const log = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString('th-TH');
            const colors = {
                info: 'text-blue-400',
                success: 'text-green-400',
                warning: 'text-yellow-400',
                error: 'text-red-400'
            };
            
            const logEntry = document.createElement('div');
            logEntry.className = `${colors[type]} font-mono text-sm mb-1 animate-fade-in`;
            logEntry.innerHTML = `[${timestamp}] ${message}`;
            
            log.appendChild(logEntry);
            log.scrollTop = log.scrollHeight;
        }
        
        function showMorningMessage() {
            const message = `🌅 สวัสดีตอนเช้า! วันที่ ${getCurrentDate()} ขอให้มีวันที่ดีนะครับ/คะ 😊 อย่าลืมลงเวลาเข้างาน! ⏰ วันที่ ${getCurrentDate()}`;
            
            // Custom styled alert
            if (confirm(message + '\n\nกดตกลงเพื่อปิดข้อความนี้')) {
                addLog("🌅 แจ้งเตือนตอนเช้าเรียบร้อย", "success");
                showToast("แจ้งเตือนเช้า", "ได้รับการแจ้งเตือนแล้ว");
            }
            
            // Browser notification
            if ("Notification" in window && Notification.permission === "granted") {
                new Notification("🌅 แจ้งเตือนลงเวลาเข้างาน", {
                    body: "อย่าลืมลงเวลาเข้างานนะครับ/คะ",
                    icon: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTIgNmEyIDIgMCAwIDEgMiAydjZhMiAyIDAgMCAxLTIgMiAyIDIgMCAwIDEtMi0yVjhhMiAyIDAgMCAxIDItMnoiIGZpbGw9IiNGRkE1MDAiLz48L3N2Zz4="
                });
            }
        }
        
        function showEveningMessage() {
            const message = `🌆 สวัสดีตอนบ่าย! วันที่ ${getCurrentDate()} ขอบคุณสำหรับความทุ่มเทในวันนี้นะครับ/คะ 💪 อย่าลืมลงเวลาออกจากงาน! ⏰ วันที่ ${getCurrentDate()}`;
            
            // Custom styled alert
            if (confirm(message + '\n\nกดตกลงเพื่อปิดข้อความนี้')) {
                addLog("🌆 แจ้งเตือนตอนบ่ายเรียบร้อย", "success");
                showToast("แจ้งเตือนบ่าย", "ได้รับการแจ้งเตือนแล้ว");
            }
            
            // Browser notification
            if ("Notification" in window && Notification.permission === "granted") {
                new Notification("🌆 แจ้งเตือนลงเวลาออกงาน", {
                    body: "อย่าลืมลงเวลาออกงานนะครับ/คะ",
                    icon: "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTIgNmEyIDIgMCAwIDEgMiAydjZhMiAyIDAgMCAxLTIgMiAyIDIgMCAwIDEtMi0yVjhhMiAyIDAgMCAxIDItMnoiIGZpbGw9IiNFRjQ0NDQiLz48L3N2Zz4="
                });
            }
        }
        
        function updateTimeDisplay() {
            const { time: currentTime, display: displayTime } = getCurrentTime();
            
            // Update clock display
            document.getElementById('clock').textContent = displayTime;
            document.getElementById('current-date').textContent = getCurrentDate();
            
            // Check if it's a new day
            const today = new Date().toDateString();
            if (today !== currentDate) {
                currentDate = today;
                alertedToday.clear();
                addLog("🗓️ เริ่มวันใหม่ - รีเซ็ตการแจ้งเตือน", "info");
            }
            
            // Reset all time indicators
            reminderTimes.forEach(reminder => {
                const element = document.getElementById(reminder.id);
                const indicator = element.querySelector('.time-indicator');
                element.classList.remove('bg-gradient-to-r', 'from-green-400', 'to-blue-500', 'shadow-lg', 'scale-105');
                element.classList.add('bg-gray-100');
                indicator.classList.remove('bg-green-500', 'animate-pulse');
                indicator.classList.add('bg-gray-300');
            });
            
            // Check for reminder times
            let nextReminder = null;
            let isReminderTime = false;
            
            reminderTimes.forEach(reminder => {
                if (currentTime === reminder.time) {
                    // Highlight current reminder time
                    const element = document.getElementById(reminder.id);
                    const indicator = element.querySelector('.time-indicator');
                    element.classList.remove('bg-gray-100');
                    element.classList.add('bg-gradient-to-r', 'from-green-400', 'to-blue-500', 'shadow-lg', 'scale-105');
                    indicator.classList.remove('bg-gray-300');
                    indicator.classList.add('bg-green-500', 'animate-pulse');
                    
                    isReminderTime = true;
                    
                    // Show reminder if not already shown today
                    if (!alertedToday.has(reminder.time)) {
                        alertedToday.add(reminder.time);
                        
                        if (reminder.type === "morning") {
                            showMorningMessage();
                        } else {
                            showEveningMessage();
                        }
                    }
                }
                
                // Find next reminder
                const [reminderHour, reminderMinute] = reminder.time.split(':').map(Number);
                const [currentHour, currentMinute] = currentTime.split(':').map(Number);
                
                const reminderMinutes = reminderHour * 60 + reminderMinute;
                const currentMinutes = currentHour * 60 + currentMinute;
                
                if (reminderMinutes > currentMinutes) {
                    if (!nextReminder || reminderMinutes < nextReminder.totalMinutes) {
                        nextReminder = {
                            time: reminder.time,
                            type: reminder.type,
                            totalMinutes: reminderMinutes
                        };
                    }
                }
            });
            
            // Update status
            const statusCard = document.getElementById('status-card');
            const statusElement = document.getElementById('status');
            
            if (isReminderTime) {
                statusElement.innerHTML = "🔔 <strong>เวลาแจ้งเตือน!</strong>";
                statusCard.className = "rounded-2xl p-6 transition-all duration-500 animate-slide-up bg-gradient-to-r from-red-100 to-pink-100 border-2 border-red-300";
            } else if (nextReminder) {
                const timeUntil = nextReminder.totalMinutes - (new Date().getHours() * 60 + new Date().getMinutes());
                const hoursUntil = Math.floor(timeUntil / 60);
                const minutesUntil = timeUntil % 60;
                
                let timeString = "";
                if (hoursUntil > 0) {
                    timeString = `${hoursUntil} ชม. ${minutesUntil} นาที`;
                } else {
                    timeString = `${minutesUntil} นาที`;
                }
                
                statusElement.innerHTML = `⏳ การแจ้งเตือนถัดไป: <strong>${nextReminder.time}</strong> (อีก ${timeString})`;
                statusCard.className = "rounded-2xl p-6 transition-all duration-500 animate-slide-up bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200";
            } else {
                statusElement.innerHTML = "✅ เสร็จสิ้นการแจ้งเตือนสำหรับวันนี้";
                statusCard.className = "rounded-2xl p-6 transition-all duration-500 animate-slide-up bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200";
            }
        }
        
        function testMorning() {
            showMorningMessage();
        }
        
        function testEvening() {
            showEveningMessage();
        }
        
        // Initialize system
        function initializeSystem() {
            addLog("🚀 เริ่มต้นระบบแจ้งเตือนลงเวลา", "success");
            
            // Request notification permission
            if ("Notification" in window && Notification.permission === "default") {
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") {
                        addLog("✅ ได้รับอนุญาต Browser Notification", "success");
                        showToast("สำเร็จ!", "ได้รับอนุญาต Browser Notification");
                    } else {
                        addLog("⚠️ ไม่ได้รับอนุญาต Browser Notification", "warning");
                    }
                });
            }
            
            // Start time checking every second
            setInterval(updateTimeDisplay, 1000);
            updateTimeDisplay(); // Run immediately
            
            addLog(`📅 เริ่มการแจ้งเตือนสำหรับวันที่ ${getCurrentDate()}`, "info");
            showToast("ระบบพร้อม!", "ระบบแจ้งเตือนเริ่มทำงานแล้ว");
        }
        
        // Start system when page loads
        window.onload = initializeSystem;
        
        // Warn before closing tab
        window.addEventListener('beforeunload', function (e) {
            e.preventDefault();
            e.returnValue = 'คุณต้องการปิดระบบแจ้งเตือนหรือไม่?';
        });
        
        // Add some interactive effects
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects to time items
            const timeItems = document.querySelectorAll('.time-item');
            timeItems.forEach(item => {
                item.addEventListener('mouseenter', function() {
                    if (!this.classList.contains('scale-105')) {
                        this.style.transform = 'translateY(-2px)';
                        this.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
                    }
                });
                
                item.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('scale-105')) {
                        this.style.transform = 'translateY(0)';
                        this.style.boxShadow = 'none';
                    }
                });
            });
        });
    </script>
</body>
</html>